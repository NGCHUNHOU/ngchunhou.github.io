(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{9521:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/Frame",function(){return n(4559)}])},4559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var s=n(5893),i=n(7294),c={spriteSheetPath:"chronoValley8.png",canvasWidthPercent:.6,canvasHeightSize:600};class r{initSceneConfig(){let{spriteSheetPath:e,canvasWidthPercent:t,canvasHeightSize:n}=c;this.ctx.canvas.width=document.documentElement.clientWidth*t,this.ctx.canvas.height=n,this.sprite.src=e}renderScreen(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.sprite,this.scenePosx,this.scenePosy),requestAnimationFrame(this.renderScreen.bind(this))}goUp(){this.scenePosy-=5}goDown(){this.scenePosy+=5}goLeft(){this.scenePosx-=5}goRight(){this.scenePosx+=5}enableCameraMovement(){window.addEventListener("keypress",e=>{switch(e.key){case"w":this.goUp();break;case"a":this.goLeft();break;case"s":this.goDown();break;case"d":this.goRight()}})}constructor(e){this.scenePosx=0,this.scenePosy=0,this.ctx=e,this.sprite=new Image}}var a=function(){let e=(0,i.useRef)(null),t=function(){let e=c.canvasWidthPercent,t={"0.2":"w-1/5","0.4":"w-2/5","0.5":"w-6/12","0.6":"w-3/5","0.8":"w-4/5"};return void 0===t[e.toString()]?"":t[e.toString()]}();return(0,i.useEffect)(()=>{let t;if(!e.current)throw Error("failed to get target canvas to render animation");let n=e.current.getContext("2d");null!=n&&((t=new r(n)).initSceneConfig(),t.renderScreen(),t.enableCameraMovement())}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{id:"mainFrame",className:"absolute top-20 w-full",children:(0,s.jsx)("div",{className:"".concat(t," mx-auto ring ring-green-800 rounded"),children:(0,s.jsx)("canvas",{ref:e,id:"sceneAnimation"})})})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9521)}),_N_E=e.O()}]);