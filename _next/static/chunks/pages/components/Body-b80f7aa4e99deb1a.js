(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{9257:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/Body",function(){return i(8425)}])},8425:function(e,t,i){"use strict";i.r(t);var s=i(5893),n=i(4559);t.default=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"body",children:(0,s.jsx)(n.default,{})})})}},4559:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var s=i(5893),n=i(7294),r={spriteSheetPath:"chronoValley8.png",playerSheetPath:"playerBoy.png",playerScaleFactor:.7,playerDefaultPosition:[380,300],canvasWidthPercent:.6,canvasHeightSize:600};class a{setPosition(e,t){this.posx=e,this.posy=t}goUp(){this.posy-=5}goDown(){this.posy+=5}goLeft(){this.posx-=5}goRight(){this.posx+=5}constructor(e){this.posx=0,this.posy=0,this.scaleFactor=0,this.sprite=new Image,this.sprite.src=e,this.scaleFactor=r.playerScaleFactor}}class o{initSceneConfig(){let{spriteSheetPath:e,playerSheetPath:t,canvasWidthPercent:i,canvasHeightSize:s}=r;this.ctx.canvas.width=document.documentElement.clientWidth*i,this.ctx.canvas.height=s,this.sprite.src=e,this.player.setPosition(r.playerDefaultPosition[0],r.playerDefaultPosition[1])}renderScreen(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.sprite,0,0),this.ctx.drawImage(this.player.sprite,0,0,80,120,this.player.posx,this.player.posy,80*this.player.scaleFactor,120*this.player.scaleFactor),requestAnimationFrame(this.renderScreen.bind(this))}makePlayerMove(){let e=new Map,t=t=>{e.set(t.key,!0),e.get("w")&&this.player.goUp(),e.get("a")&&this.player.goLeft(),e.get("s")&&this.player.goDown(),e.get("d")&&this.player.goRight()},i=t=>{e.set(t.key,!1)};window.addEventListener("keydown",t),window.addEventListener("keyup",i)}constructor(e){this.ctx=e,this.sprite=new Image,this.player=new a(r.playerSheetPath)}}var c=function(){let e=(0,n.useRef)(null),t=function(){let e=r.canvasWidthPercent,t={"0.2":"w-1/5","0.4":"w-2/5","0.5":"w-6/12","0.6":"w-3/5","0.8":"w-4/5"};return void 0===t[e.toString()]?"":t[e.toString()]}();return(0,n.useEffect)(()=>{let t;if(!e.current)throw Error("failed to get target canvas to render animation");let i=e.current.getContext("2d");null!=i&&((t=new o(i)).initSceneConfig(),t.renderScreen(),t.makePlayerMove())}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{id:"mainFrame",className:"absolute top-20 w-full",children:(0,s.jsx)("div",{className:"".concat(t," mx-auto ring ring-green-800 rounded"),children:(0,s.jsx)("canvas",{ref:e,id:"sceneAnimation"})})})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9257)}),_N_E=e.O()}]);